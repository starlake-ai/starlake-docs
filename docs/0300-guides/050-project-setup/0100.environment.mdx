---
title: "Starlake Environment Variables: Multi-Environment Configuration"
description: "Configure Starlake environment variables for multi-environment pipelines. Use env.DEV.sl.yml and env.PROD.sl.yml files with variable substitution. Includes predefined date/time variables."
keywords: [starlake, environment variables, configuration, env files, multi-environment, variable substitution]
sidebar_position: 10
---

import Head from '@docusaurus/Head';

<Head>
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How do I define environment-specific variables in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Create a file named env.<ENV>.sl.yml in the metadata folder (e.g., env.DEV.sl.yml, env.PROD.sl.yml). Define variables under the env: key. Set SL_ENV=DEV or SL_ENV=PROD before running Starlake to apply the correct values."
          }
        },
        {
          "@type": "Question",
          "name": "What is the variable substitution syntax in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Variables can be referenced with ${} or {{}} syntax in domain and job YAML files. Example: directory: \"{{root_path}}/sales\"."
          }
        },
        {
          "@type": "Question",
          "name": "Where do I define global variables in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Define global variables in metadata/env.sl.yml. These apply across all environments but can be overridden by environment-specific files (env.DEV.sl.yml, env.PROD.sl.yml)."
          }
        },
        {
          "@type": "Question",
          "name": "What predefined variables does Starlake provide?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Starlake provides date/time variables: sl_date (yyyyMMdd), sl_datetime (yyyyMMddHHmmss), sl_year, sl_month, sl_day, sl_hour, sl_minute, sl_second, sl_milli, sl_epoch_second, sl_epoch_milli. These are automatically set to the current date/time."
          }
        },
        {
          "@type": "Question",
          "name": "How does environment override priority work in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Environment-specific variables (defined in env.<ENV>.sl.yml) override global variables (defined in env.sl.yml). The active environment is selected by setting the SL_ENV environment variable."
          }
        }
      ]
    })}
  </script>
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to configure environment variables in Starlake",
      "step": [
        {"@type": "HowToStep", "name": "Define global variables in env.sl.yml", "text": "Create or edit metadata/env.sl.yml to define variables that apply across all environments. Use the env: key to list variable names and default values."},
        {"@type": "HowToStep", "name": "Create environment-specific override files", "text": "Create env.DEV.sl.yml and env.PROD.sl.yml in the metadata/ folder. Variables defined here override the global defaults for the corresponding environment."},
        {"@type": "HowToStep", "name": "Reference variables in YAML configuration", "text": "Use {{variable_name}} or ${variable_name} syntax in domain and job YAML files. Example: directory: '{{root_path}}/sales'."},
        {"@type": "HowToStep", "name": "Set the active environment", "text": "Export SL_ENV=DEV or SL_ENV=PROD before running Starlake commands. The corresponding env.<ENV>.sl.yml file will be loaded automatically."}
      ]
    })}
  </script>
</Head>

# Starlake Environment Variables

Starlake uses YAML-based environment files to manage configuration variables across environments. Global variables are defined in `metadata/env.sl.yml`, while environment-specific overrides are stored in files like `env.DEV.sl.yml` and `env.PROD.sl.yml`. Variables are referenced using `${}` or `{{}}` syntax and resolved at runtime based on the `SL_ENV` setting. Starlake also provides predefined date/time variables (`sl_date`, `sl_datetime`, etc.).

## How to Configure Environment Variables (Step-by-Step)

1. **Define global variables in env.sl.yml** — Create or edit `metadata/env.sl.yml` to set default variable values that apply across all environments.
2. **Create environment-specific override files** — Add `env.DEV.sl.yml` and `env.PROD.sl.yml` in the `metadata/` folder. Variables here override the global defaults.
3. **Reference variables in YAML configuration** — Use `{{variable_name}}` or `${variable_name}` in domain and job files. Example: `directory: "{{root_path}}/sales"`.
4. **Set the active environment** — Export `SL_ENV=DEV` or `SL_ENV=PROD` before running Starlake. The matching override file is loaded automatically.

## Define Environment-Specific Variables (DEV, PROD)

Starlake allows you to use variables almost everywhere in the domain and job files.
For example, you may need to set the folder name to watch to a different value
in development and production environments. This is where variables may help. They are enclosed inside 
`${}` or `{{}}`

Assuming we have a `sales` domain as follows:
```yaml
load:
  name: "sales"
  directory: "{{root_path}}/sales"
  ack: "ack"
```

We create a file `env.DEV.sl.yml` in the metadata folder 

```yaml
env:
  root_path: "/tmp/userguide"
```

and the file `env.PROD.sl.yml` in the metadata folder

```yaml
env:
  root_path: "/cluster/userguide"
```

To apply the substitution in the DEV env set the SL_ENV variable before running Starlake as follows:

```shell
export SL_ENV=DEV
```

In Production set it rather to:

```shell
export SL_ENV=PROD
```

## Define Global Variables in env.sl.yml
To define variables across environments, declare them in the `env.sl.yml` file in the `metadata` folder.

Global variables definitions may be superseded by the env specific variables files.  


## Predefined Date/Time Variables
The following variables are preset to the current date/time and may be used anywhere:

| Date Time Variable | Format                                |
|--------------------|---------------------------------------|
| sl_date         | yyyyMMdd                              |
| sl_datetime     | yyyyMMddHHmmss                        |
| sl_year         | yy                                    |
| sl_month        | MM                                    |
| sl_day          | dd                                    |
| sl_hour         | HH                                    |
| sl_minute       | mm                                    |
| sl_second       | ss                                    |
| sl_milli        | SSS                                   |
| sl_epoch_second | Number of seconds since 1/1/1970      |
| sl_epoch_milli  | Number of milliseconds since 1/1/1970 |

## Frequently Asked Questions

### How do I define environment-specific variables in Starlake?
Create a file named `env.<ENV>.sl.yml` in the `metadata` folder (e.g., `env.DEV.sl.yml`, `env.PROD.sl.yml`). Define variables under the `env:` key. Set `SL_ENV=DEV` or `SL_ENV=PROD` before running Starlake to apply the correct values.

### What is the variable substitution syntax in Starlake?
Variables can be referenced with `${}` or `{{}}` syntax in domain and job YAML files. Example: `directory: "{{root_path}}/sales"`.

### Where do I define global variables in Starlake?
Define global variables in `metadata/env.sl.yml`. These apply across all environments but can be overridden by environment-specific files (`env.DEV.sl.yml`, `env.PROD.sl.yml`).

### What predefined variables does Starlake provide?
Starlake provides date/time variables: `sl_date` (yyyyMMdd), `sl_datetime` (yyyyMMddHHmmss), `sl_year`, `sl_month`, `sl_day`, `sl_hour`, `sl_minute`, `sl_second`, `sl_milli`, `sl_epoch_second`, `sl_epoch_milli`. These are automatically set to the current date/time.

### How does environment override priority work in Starlake?
Environment-specific variables (defined in `env.<ENV>.sl.yml`) override global variables (defined in `env.sl.yml`). The active environment is selected by setting the `SL_ENV` environment variable.
