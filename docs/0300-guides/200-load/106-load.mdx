---
title: "Manual Load Configuration"
description: "Configure Starlake manual load for multi-character delimiters, custom folder layouts, and per-environment incoming paths. Define domain and table settings in YAML."
keywords: [starlake, manual load, load configuration, custom separator, incoming path, multi-character delimiter, environment, domain, table]
---

import Head from '@docusaurus/Head';

<Head>
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "When should I use manual load instead of autoload?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use manual load when your files have a multi-character separator that autoload cannot detect, or when your files are not stored in the standard incoming/<domain>/ directory structure."
          }
        },
        {
          "@type": "Question",
          "name": "How do I set a custom incoming directory in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Set the application.area.incoming property in metadata/application.sl.yml. You can use an environment variable (e.g., {{incoming_path}}) and define its value per environment in metadata/env.<env>.sl.yml."
          }
        },
        {
          "@type": "Question",
          "name": "Can I use different incoming paths for dev, test, and prod?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Define the incoming_path variable in environment-specific files such as metadata/env.dev.sl.yml and reference it with {{incoming_path}} in application.sl.yml."
          }
        },
        {
          "@type": "Question",
          "name": "What is a domain configuration file in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The _config.sl.yml file under metadata/load/<domain>/ defines domain-level settings, including the directory where the load command looks for incoming files."
          }
        },
        {
          "@type": "Question",
          "name": "What file formats are supported for manual load?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Manual load supports CSV/DSV, JSON, XML, and fixed-width (positional) files. Each format has its own configuration page with parsing options."
          }
        }
      ]
    })}
  </script>
</Head>

<Head>
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to Configure Manual Data Loading in Starlake",
      "description": "Configure custom separators, non-standard folder layouts and per-environment incoming paths for Starlake manual load.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Define the incoming directory",
          "text": "Set application.area.incoming in metadata/application.sl.yml. Use an environment variable like {{incoming_path}} for per-environment paths."
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Create the domain configuration",
          "text": "Create metadata/load/<domain>/_config.sl.yml and set the load.metadata.directory property to point to your incoming folder."
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Create the table configuration",
          "text": "Create a <table>.sl.yml file for each table, defining the file pattern, format, separator, and attribute schema."
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Run the load command",
          "text": "Execute 'starlake load' to load files matching the configured patterns into the target warehouse."
        }
      ]
    })}
  </script>
</Head>

# Manual Load: Configure Custom Separators and Incoming Paths

Starlake manual load gives you full control over file parsing, directory layout, and per-environment configuration. Use it when [autoload](autoload) cannot handle your files -- for example, when you have multi-character delimiters or files stored outside the standard `incoming/<domain>/` directory structure. All configuration is defined in YAML at the domain and table level.

## When to Use Manual Load Instead of Autoload

Use manual load (`starlake load`) instead of [autoload](autoload) when:

- Your files use a **multi-character separator** that autoload cannot detect automatically (e.g., `||`, `::`, `~|~`).
- Your files are stored in a **non-standard folder** that does not follow the `incoming/<domain>/` convention.
- You need full control over **schema customization** before any data is loaded.

For all other cases, autoload is simpler and requires no configuration. See the [load tutorial](tutorial) for a step-by-step walkthrough.

## Set a Custom Incoming Directory

By default, Starlake looks for files in `$SL_ROOT/datasets/incoming/`. Override this location by setting the `application.area.incoming` property:

```yaml title="metadata/application.sl.yml"
application:
  area:
    incoming: /path/to/incoming
```

### Per-Environment Incoming Path Configuration

Use an environment variable to set different incoming paths for dev, test, and prod:

```yaml title="metadata/env.dev.sl.yml"
incoming_path: /data/dev/incoming
```

```yaml title="metadata/env.prod.sl.yml"
incoming_path: /data/prod/incoming
```

```yaml title="metadata/application.sl.yml"
application:
  area:
    incoming: "{{incoming_path}}"
```

The `{{incoming_path}}` placeholder is resolved at runtime from the active environment file.

## Domain Configuration (_config.sl.yml)

Each domain needs a configuration file that tells the `load` command where to find incoming files. Create a `_config.sl.yml` file under `metadata/load/<domain>/`:

```yaml title="metadata/load/starbake/_config.sl.yml"
load:
  metadata:
    directory: "{{incoming_path}}/starbake"
```

The `{{incoming_path}}` variable is resolved from the environment file (`metadata/env.sl.yml` or `metadata/env.<env>.sl.yml`). This means all files for the `starbake` domain are loaded from this directory.

Since the directory is set at the domain level, all tables within this domain share the same incoming path.

## Table Configuration by File Format

Each table requires a `<table>.sl.yml` file that defines the file pattern, format, separator, and attribute schema. Configuration differs by file format:

- [Load CSV and DSV files](csv) -- Delimited files with configurable separator, encoding, and quoting
- [Load JSON files](json) -- Flat or nested JSON with struct and array support
- [Load XML files](xml) -- XML with rowTag, attribute prefix, and XSD validation
- [Load fixed-width positional files](position) -- Column positions defined by first/last offsets

## Running the Load Command

After configuring domain and table YAML files, run the load command:

```bash
starlake load
```

Starlake processes all domains and tables, matching files in each domain's configured directory against the file patterns defined in each table's `.sl.yml` file. The [load strategy](load-strategies) controls the order in which files are processed.

## Frequently Asked Questions

### When should I use manual load instead of autoload?
Use manual load when your files have a multi-character separator that autoload cannot detect, or when your files are not stored in the standard `incoming/<domain>/` directory structure.

### How do I set a custom incoming directory in Starlake?
Set the `application.area.incoming` property in `metadata/application.sl.yml`. You can use an environment variable (e.g., `{{incoming_path}}`) and define its value per environment in `metadata/env.<env>.sl.yml`.

### Can I use different incoming paths for dev, test, and prod?
Yes. Define the `incoming_path` variable in environment-specific files such as `metadata/env.dev.sl.yml` and reference it with `{{incoming_path}}` in `application.sl.yml`.

### What is a domain configuration file in Starlake?
The `_config.sl.yml` file under `metadata/load/<domain>/` defines domain-level settings, including the directory where the `load` command looks for incoming files.

### What file formats are supported for manual load?
Manual load supports CSV/DSV, JSON, XML, and fixed-width (positional) files. Each format has its own configuration page with parsing options.
