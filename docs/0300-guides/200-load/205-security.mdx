---
title: "Access Control in Starlake â€” Table, Row and Column Level Security for BigQuery and Databricks"
description: "Define table ACL, row-level security (RLS) with SQL predicates, and column-level access policies (PII) in Starlake. YAML configuration for BigQuery and Databricks."
keywords: [starlake, access control, ACL, row-level security, column-level security, BigQuery, Databricks, RLS, PII]
---

import Head from '@docusaurus/Head';

<Head>
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How do I define access rights on a table in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use the acl section in the table YAML definition. Specify a role (permission) and a list of grants (users, groups or service accounts)."
          }
        },
        {
          "@type": "Question",
          "name": "How do I configure Row Level Security (RLS) in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Add an rls section in the table definition. Each RLS policy contains a name, a predicate (SQL expression evaluated for each row) and grants defining the beneficiaries."
          }
        },
        {
          "@type": "Question",
          "name": "Is Column Level Security supported on all warehouses?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. Column Level Security is supported on BigQuery only. It uses BigQuery access policies to restrict access to specific columns."
          }
        },
        {
          "@type": "Question",
          "name": "How do I protect a column containing PII in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Add the accessPolicy: PII property on the attribute in the table definition. This feature uses BigQuery access policies."
          }
        },
        {
          "@type": "Question",
          "name": "What is the ACL syntax for BigQuery in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The role uses the BigQuery format (e.g., role/bigQueryViewer). Grants use the format user:, group: or serviceAccount: followed by the identifier."
          }
        },
        {
          "@type": "Question",
          "name": "What is the ACL syntax for Spark/Databricks in Starlake?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The role corresponds to a SQL permission (e.g., SELECT). Grants are user or group identifiers without a type prefix."
          }
        },
        {
          "@type": "Question",
          "name": "Can I combine ACL, RLS and Column Level Security on the same table?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. All three security levels can be combined in the same table YAML definition."
          }
        }
      ]
    })}
  </script>
</Head>

# Access control



## Table Level Security
Security on a table is defined by the ACL section of the table definition. The ACL section defines the role and the grants for the role. The role is the permission that is granted to the grants. The grants can be users, groups or service accounts.

Below is an example of the ACL section of a table definition.


import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


<Tabs>

<TabItem value="bigquery" label="BigQuery">

BigQuery Example

```yaml {3-8}
table:
    ...
    acl:
        - role: role/bigQueryViewer
          grants:
            - user:user@starlake.ai
            - group:group@starlake.ai
            - serviceAccount:service@gserviceaccount.google.com
```

</TabItem>

<TabItem value="spark" label="Spark">

```yaml{3-8}
table:
    ...
    acl:
        - role: SELECT
          grants:
            - user@starlake.ai
            - group
```

</TabItem>

</Tabs>


## Row Level Security

You may also want to restrict access to specific rows in a table.
This is done by defining a row level security policy.
The policy is defined by a SQL expression that is evaluated for each row in the table.
If the expression evaluates to true, the row is returned. If the expression evaluates to false, the row is not returned.

Below is an example of a row level security policy.

```yaml
table:
    ...
    acl:
        - role: SELECT
          grants:
            - user@starlake.ai
            - group
    rls:
      - name: "USA only"
        predicate: "country = 'USA'"
        grants:
          - "group:mygroup"
```


## Column Level Security

You may also want to restrict access to specific columns in a table.

This is done by defining a column level security policy.

This feature is supported on BigQuery only and makes use of access policies to restrict access to specific columns in a table.

Below is an example of a column level security policy.

```yaml
table:
    ...
    acl:
        - role: SELECT
          grants:
            - user@starlake.ai
            - group
    rls:
      - name: "USA only"
        predicate: "country = 'USA'"
        grants:
          - "group:mygroup"
    attributes:
        - name: "code0"
          accessPolicy: PII
          type: "string"
    ...
```

## Frequently Asked Questions

### How do I define access rights on a table in Starlake?
Use the `acl` section in the table YAML definition. Specify a `role` (permission) and a list of `grants` (users, groups or service accounts).

### How do I configure Row Level Security (RLS) in Starlake?
Add an `rls` section in the table definition. Each RLS policy contains a `name`, a `predicate` (SQL expression evaluated for each row) and `grants` defining the beneficiaries.

### Is Column Level Security supported on all warehouses?
No. Column Level Security is supported on BigQuery only. It uses BigQuery access policies to restrict access to specific columns.

### How do I protect a column containing PII in Starlake?
Add the `accessPolicy: PII` property on the attribute in the table definition. This feature uses BigQuery access policies.

### What is the ACL syntax for BigQuery in Starlake?
The role uses the BigQuery format (e.g., `role/bigQueryViewer`). Grants use the format `user:`, `group:` or `serviceAccount:` followed by the identifier.

### What is the ACL syntax for Spark/Databricks in Starlake?
The role corresponds to a SQL permission (e.g., `SELECT`). Grants are user or group identifiers without a type prefix.

### Can I combine ACL, RLS and Column Level Security on the same table?
Yes. All three security levels can be combined in the same table YAML definition.

